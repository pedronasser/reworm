{"version":3,"file":"reworm.umd.js","sources":["../node_modules/gud/index.js","../node_modules/fbjs/lib/emptyFunction.js","../node_modules/fbjs/lib/warning.js","../node_modules/create-react-context/lib/implementation.js","../node_modules/create-react-context/lib/index.js","../node_modules/fast-deep-equal/index.js","../src/reworm.tsx"],"sourcesContent":["// @flow\n'use strict';\n\nvar key = '__global_unique_id__';\n\nmodule.exports = function() {\n  return global[key] = (global[key] || 0) + 1;\n};\n","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar emptyFunction = require('./emptyFunction');\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = emptyFunction;\n\nif (process.env.NODE_ENV !== 'production') {\n  var printWarning = function printWarning(format) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  warning = function warning(condition, format) {\n    if (format === undefined) {\n      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (format.indexOf('Failed Composite propType: ') === 0) {\n      return; // Ignore CompositeComponent proptype check.\n    }\n\n    if (!condition) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(undefined, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;","'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _gud = require('gud');\n\nvar _gud2 = _interopRequireDefault(_gud);\n\nvar _warning = require('fbjs/lib/warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MAX_SIGNED_31_BIT_INT = 1073741823;\n\n// Inlined Object.is polyfill.\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\nfunction objectIs(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nfunction createEventEmitter(value) {\n  var handlers = [];\n  return {\n    on: function on(handler) {\n      handlers.push(handler);\n    },\n    off: function off(handler) {\n      handlers = handlers.filter(function (h) {\n        return h !== handler;\n      });\n    },\n    get: function get() {\n      return value;\n    },\n    set: function set(newValue, changedBits) {\n      value = newValue;\n      handlers.forEach(function (handler) {\n        return handler(value, changedBits);\n      });\n    }\n  };\n}\n\nfunction onlyChild(children) {\n  return Array.isArray(children) ? children[0] : children;\n}\n\nfunction createReactContext(defaultValue, calculateChangedBits) {\n  var _Provider$childContex, _Consumer$contextType;\n\n  var contextProp = '__create-react-context-' + (0, _gud2.default)() + '__';\n\n  var Provider = function (_Component) {\n    _inherits(Provider, _Component);\n\n    function Provider() {\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, Provider);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.emitter = createEventEmitter(_this.props.value), _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    Provider.prototype.getChildContext = function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _ref[contextProp] = this.emitter, _ref;\n    };\n\n    Provider.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      if (this.props.value !== nextProps.value) {\n        var oldValue = this.props.value;\n        var newValue = nextProps.value;\n        var changedBits = void 0;\n\n        if (objectIs(oldValue, newValue)) {\n          changedBits = 0; // No change\n        } else {\n          changedBits = typeof calculateChangedBits === 'function' ? calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;\n          if (process.env.NODE_ENV !== 'production') {\n            (0, _warning2.default)((changedBits & MAX_SIGNED_31_BIT_INT) === changedBits, 'calculateChangedBits: Expected the return value to be a ' + '31-bit integer. Instead received: %s', changedBits);\n          }\n\n          changedBits |= 0;\n\n          if (changedBits !== 0) {\n            this.emitter.set(nextProps.value, changedBits);\n          }\n        }\n      }\n    };\n\n    Provider.prototype.render = function render() {\n      return this.props.children;\n    };\n\n    return Provider;\n  }(_react.Component);\n\n  Provider.childContextTypes = (_Provider$childContex = {}, _Provider$childContex[contextProp] = _propTypes2.default.object.isRequired, _Provider$childContex);\n\n  var Consumer = function (_Component2) {\n    _inherits(Consumer, _Component2);\n\n    function Consumer() {\n      var _temp2, _this2, _ret2;\n\n      _classCallCheck(this, Consumer);\n\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, _Component2.call.apply(_Component2, [this].concat(args))), _this2), _this2.state = {\n        value: _this2.getValue()\n      }, _this2.onUpdate = function (newValue, changedBits) {\n        var observedBits = _this2.observedBits | 0;\n        if ((observedBits & changedBits) !== 0) {\n          _this2.setState({ value: _this2.getValue() });\n        }\n      }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n    }\n\n    Consumer.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      var observedBits = nextProps.observedBits;\n\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default\n      : observedBits;\n    };\n\n    Consumer.prototype.componentDidMount = function componentDidMount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].on(this.onUpdate);\n      }\n      var observedBits = this.props.observedBits;\n\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default\n      : observedBits;\n    };\n\n    Consumer.prototype.componentWillUnmount = function componentWillUnmount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].off(this.onUpdate);\n      }\n    };\n\n    Consumer.prototype.getValue = function getValue() {\n      if (this.context[contextProp]) {\n        return this.context[contextProp].get();\n      } else {\n        return defaultValue;\n      }\n    };\n\n    Consumer.prototype.render = function render() {\n      return onlyChild(this.props.children)(this.state.value);\n    };\n\n    return Consumer;\n  }(_react.Component);\n\n  Consumer.contextTypes = (_Consumer$contextType = {}, _Consumer$contextType[contextProp] = _propTypes2.default.object, _Consumer$contextType);\n\n\n  return {\n    Provider: Provider,\n    Consumer: Consumer\n  };\n}\n\nexports.default = createReactContext;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _implementation = require('./implementation');\n\nvar _implementation2 = _interopRequireDefault(_implementation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _react2.default.createContext || _implementation2.default;\nmodule.exports = exports['default'];","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n","import React, { Component } from 'react'\nimport createContext from 'create-react-context'\nimport equal from 'fast-deep-equal'\n\ntype PrevState<T> = (prevState: T) => T\ntype GetFn<T> = (state: T) => React.ReactNode\ntype SubscribeFn<T> = (state: T) => any\n\ninterface State<T> {\n  get: (fn: GetFn<T>) => React.ReactNode\n  set: (next: T | PrevState<T>) => void\n  select: <S = any>(\n    selector: (state: T) => S\n  ) => (fn: GetFn<S>) => React.ReactNode\n  subscribe: (fn: SubscribeFn<T>) => () => void\n}\n\ntype Listener = (id: string, next: any) => void\n\nconst createStore = () => {\n  const listeners: Listener[] = []\n  const initial: Record<string, any> = {}\n\n  return {\n    getInitial: () => initial,\n    setInitial: (id: string, next: any): void => {\n      initial[id] = next\n    },\n    subscribe: (listener: Listener): void => {\n      listeners.push(listener)\n    },\n    unsubscribe: (listener: Listener): void => {\n      listeners.splice(listeners.indexOf(listener), 1)\n    },\n    emit: (id: string, next: any): void => {\n      for (const listener of listeners) {\n        listener(id, next)\n      }\n    },\n  }\n}\n\nconst ctx = createContext<Record<string, any>>({})\nconst store = createStore()\n\nexport class Provider extends Component {\n  public state = store.getInitial()\n  public componentDidMount(): void {\n    store.subscribe(this.handleUpdate)\n  }\n  public componentWillUnmount(): void {\n    store.unsubscribe(this.handleUpdate)\n  }\n  public shouldComponentUpdate(nextProps: any, nextState: any): boolean {\n    return !equal(this.state, nextState)\n  }\n  public render(): React.ReactNode {\n    return <ctx.Provider value={this.state}>{this.props.children}</ctx.Provider>\n  }\n\n  private handleUpdate = (id: string, next: any) => {\n    this.setState((prevState: any) => ({\n      [id]: typeof next === 'function' ? next(prevState[id]) : next,\n    }))\n  }\n}\n\nfunction uuidv4(): string {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    // tslint:disable-next-line\n    const r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  })\n}\n\nexport function create<T = any>(initial: T = {} as T): State<T> {\n  const id = uuidv4()\n  store.setInitial(id, initial)\n\n  return {\n    get: fn => <ctx.Consumer>{state => fn(state[id] as T)}</ctx.Consumer>,\n    set: next => store.emit(id, next),\n    select: selector => fn => (\n      <ctx.Consumer>\n        {state => {\n          const select = selector(state[id] as T)\n          return fn(select)\n        }}\n      </ctx.Consumer>\n    ),\n    subscribe: (fn: SubscribeFn<T>): (() => void) => {\n      const sub = (selectedId: string, next: any) => {\n        if (selectedId === id) fn(next)\n      }\n\n      store.subscribe(sub)\n      return () => store.unsubscribe(sub)\n    },\n  }\n}\n"],"names":["global","emptyFunction","_react","_propTypes","_gud","_warning","_implementation","tslib_1.__extends","equal","React","Component"],"mappings":"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"}